<!DOCTYPE html>
<html>
<head>
    <title>口算题卡</title>
    <meta http-equiv="Content-Type" content="text/html; charset=GBK">
    <script src="https://how2j.cn/study/js/jquery/2.0.0/jquery.min.js"></script>
    <link href="https://how2j.cn/study/css/bootstrap/3.3.6/bootstrap.min.css" rel="stylesheet">
    <script src="https://how2j.cn/study/js/bootstrap/3.3.6/bootstrap.min.js"></script>
    <style>
        .operation {
            background-color: lightgray;
        }

        .figure {
            display: none;
            background-color: #dff0d8;
        }

        .figure:hover {
            background-color: #c1e2b3;
        }

        .expression {
            font-size: 125%;
            line-height: 200%;
            font-weight: bold;
            font-style: italic;
        }
    </style>
    <script>
        function displayItem() {
            if ($("span").hasClass("glyphicon glyphicon-resize-small pull-right")) {
                $(".figure").show();
                $(".glyphicon-resize-small")[0].className = "glyphicon glyphicon-resize-full pull-right";
            } else {
                $(".figure").hide();
                $(".glyphicon-resize-full")[0].className = "glyphicon glyphicon-resize-small pull-right";
            }
        }

        function displayAddElement() {
            $(".add").toggle();
        }

        function displayMinusElement() {
            $(".minus").toggle();
        }

        var ans = new Array();

        function activate1() {
            $(".figure").removeClass("active");
            $(".figure").eq(0).addClass("active");
            $(".res").val("");
            for (i = 0; i < 5; i++) {
                while (1) {
                    a = Math.floor(Math.random() * 10);
                    b = Math.floor(Math.random() * 10);
                    ans[i] = a + b;
                    if (ans[i] < 10) {
                        break;
                    }
                }
                $(".expression").eq(i).text(a + "+" + b + "=");
            }
            $(".test").show();
        }

        function activate2() {
            $(".figure").removeClass("active");
            $(".figure").eq(1).addClass("active");
            $(".res").val("");
            for (i = 0; i < 5; i++) {
                while (1) {
                    a = Math.floor(Math.random() * 100);
                    b = Math.floor(Math.random() * 100);
                    ans[i] = a + b;
                    if (ans[i] < 100) {
                        break;
                    }
                }
                $(".expression").eq(i).text(a + "+" + b + "=");
            }
            $(".test").show();
        }

        function activate3() {
            $(".figure").removeClass("active");
            $(".figure").eq(2).addClass("active");
            $(".res").val("");
            for (i = 0; i < 5; i++) {
                while (1) {
                    a = Math.floor(Math.random() * 1000);
                    b = Math.floor(Math.random() * 1000);
                    ans[i] = a + b;
                    if (ans[i] < 1000) {
                        break;
                    }
                }
                $(".expression").eq(i).text(a + "+" + b + "=");
            }
            $(".test").show();
        }

        function activate4() {
            $(".figure").removeClass("active");
            $(".figure").eq(3).addClass("active");
            $(".res").val("");
            for (i = 0; i < 5; i++) {
                while (1) {
                    a = Math.floor(Math.random() * 10);
                    b = Math.floor(Math.random() * 10);
                    ans[i] = a - b;
                    if (ans[i] >= 0) {
                        break;
                    }
                }
                $(".expression").eq(i).text(a + "-" + b + "=");
            }
            $(".test").show();
        }

        function activate5() {
            $(".figure").removeClass("active");
            $(".figure").eq(4).addClass("active");
            $(".res").val("");
            for (i = 0; i < 5; i++) {
                while (1) {
                    a = Math.floor(Math.random() * 100);
                    b = Math.floor(Math.random() * 100);
                    ans[i] = a - b;
                    if (ans[i] >= 0) {
                        break;
                    }
                }
                $(".expression").eq(i).text(a + "-" + b + "=");
            }
            $(".test").show();
        }

        function activate6() {
            $(".figure").removeClass("active");
            $(".figure").eq(5).addClass("active");
            $(".res").val("");
            for (i = 0; i < 5; i++) {
                while (1) {
                    a = Math.floor(Math.random() * 1000);
                    b = Math.floor(Math.random() * 1000);
                    ans[i] = a - b;
                    if (ans[i] >= 0) {
                        break;
                    }
                }
                $(".expression").eq(i).text(a + "-" + b + "=");
            }
            $(".test").show();
        }

        function openModal() {
            for (i = 0; i < 5; i++) {
                if ($(".res").eq(i).val() == "") {
                    $("#myModal1").modal();
                    return;
                }
            }
            $("#myModal2").modal();
        }

        function displayResult() {
            score = 0;
            for (i = 0; i < 5; i++) {
                if ($(".res").eq(i).val() == ans[i]) {
                    score += 20;
                }
            }
            $("#k2").text("你的分数是：" + score);
            $("#myModal3").modal();
        }

        function redo() {
            $(".active")[0].click();
        }
    </script>
</head>
<body>
<a href="tetris.html" style="font-size: 200%">我要玩</a>
<div style="position:absolute;left:4%;top:10%;width:200px">
    <div class="list-group-item title" onclick="displayItem()"
         style="font-size:125%;background-color:#dff0d8;">
        <span>计算</span>
        <span class="glyphicon glyphicon-resize-small pull-right"></span>
    </div>
    <div class="list-group-item operation" onclick="displayAddElement()">
        <span class="glyphicon glyphicon-tags"></span>
        &nbsp;加
    </div>
    <div class="list-group-item figure add" onclick="activate1()">10以内</div>
    <div class="list-group-item figure add" onclick="activate2()">100以内</div>
    <div class="list-group-item figure add" onclick="activate3()">1000以内</div>
    <div class="list-group-item operation" onclick="displayMinusElement()">
        <span class="glyphicon glyphicon-tags"></span>
        &nbsp;减
    </div>
    <div class="list-group-item figure minus" onclick="activate4()">10以内</div>
    <div class="list-group-item figure minus" onclick="activate5()">100以内</div>
    <div class="list-group-item figure minus" onclick="activate6()">1000以内</div>
</div>
<div class="test" style="position:absolute;left:40%;top:10%;font-size:150%;display:none;">
    <div>
        <span class="expression"></span>
        <input type="text" class="res" size="1">
    </div>
    <div>
        <span class="expression"></span>
        <input type="text" class="res" size="1">
    </div>
    <div>
        <span class="expression"></span>
        <input type="text" class="res" size="1">
    </div>
    <div>
        <span class="expression"></span>
        <input type="text" class="res" size="1">
    </div>
    <div>
        <span class="expression"></span>
        <input type="text" class="res" size="1">
    </div>
    <input type="button" class="btn btn-primary" value="提交" onclick="openModal()"
           style="position:absolute;left:50%;transform:translate(-50%,50%);">
</div>
<div class="modal fade" id="myModal1" data-backdrop="static">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <button data-dismiss="modal" class="close">
                    <span>×</span>
                </button>
                <h4 class="modal-title">
                    友情提示
                </h4>
            </div>
            <div class="modal-body">
                你还有题目没做完，真的要交吗？
            </div>
            <div class="modal-footer">
                <input type="button" class="btn btn-default" value="继续做" data-dismiss="modal">
                <input type="button" class="btn btn-primary" value="我要交" data-dismiss="modal"
                       onclick="displayResult()">
            </div>
        </div>
    </div>
</div>
<div class="modal fade" id="myModal2" data-backdrop="static">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <button data-dismiss="modal" class="close">
                    <span>×</span>
                </button>
                <h4 class="modal-title">
                    友情提示
                </h4>
            </div>
            <div class="modal-body">
                你似乎有题做错了，真的要交吗？
            </div>
            <div class="modal-footer">
                <input type="button" class="btn btn-default" value="再改改" data-dismiss="modal">
                <input type="button" class="btn btn-primary" value="我要交" data-dismiss="modal"
                       onclick="displayResult()">
            </div>
        </div>
    </div>
</div>
<div class="modal fade" id="myModal3" data-backdrop="static">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <button data-dismiss="modal" class="close">
                    <span>×</span>
                </button>
                <h4 class="modal-title">
                    恭喜你！
                </h4>
            </div>
            <div class="modal-body" id="k2"></div>
            <div class="modal-footer">
                <input type="button" class="btn btn-default" value="再做一次" data-dismiss="modal"
                       onclick="redo()">
                <input type="button" class="btn btn-primary" value="确认" data-dismiss="modal">
            </div>
        </div>
    </div>
</div>
</body>
</html>
